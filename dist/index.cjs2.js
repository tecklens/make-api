"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react"),t=require("./index.cjs3.js"),v=require("./index.cjs4.js"),p=require("react-hook-form"),r=require("zod"),F=require("./index.cjs5.js"),c=require("./index.cjs6.js"),s=require("./index.cjs7.js"),x=require("./index.cjs8.js"),N=require("./index.cjs9.js"),q=require("./index.cjs10.js"),z=require("./index.cjs11.js"),S=require("./index.cjs12.js"),f=require("./index.cjs13.js"),C=require("./index.cjs14.js"),T=require("axios"),H=r.z.object({method:r.z.string(),url:r.z.string().url({message:"Your url is invalid"}),params:r.z.array(r.z.object({key:r.z.string(),value:r.z.string()}),{message:"Params not valid"}).optional(),headers:r.z.array(r.z.object({key:r.z.string(),value:r.z.string()})).optional(),body:r.z.any().optional()}),k=l=>{const[g,h]=e.useState(null),[y,E]=e.useState(!1),{control:m,register:d,...u}=p.useForm({resolver:F.zodResolver(H),defaultValues:{url:"",method:"get",headers:f.defaultHeader,body:null}});async function b(a){E(!0);const n=await T({method:a.method,url:a.url,params:a.params?.reduce((i,o)=>({...i,[o.key]:o.value}),{}),data:a.body,headers:a.headers?.reduce((i,o)=>({...i,[o.key]:o.value}),{})});E(!1),h(n)}return e.useEffect(()=>{l&&(u.reset({method:l.method,url:l.url,params:l.params,body:l.defaultBody,headers:l.defaultHeaders}),l.defaultHeaders==null&&l.useDefaultHeader!==!1&&u.setValue("headers",f.defaultHeader))},[l]),e.createElement("div",null,e.createElement(t.Form,{...u,control:m,register:d},e.createElement("form",{onSubmit:u.handleSubmit(b),className:"flex flex-col space-y-2"},e.createElement("div",{className:"flex space-x-0 sm:space-x-1"},e.createElement(t.FormField,{control:m,name:"method",render:({field:a})=>e.createElement(t.FormItem,{className:"w-[120px] mr-3"},e.createElement(t.FormControl,null,e.createElement(c.Select,{value:a.value,onValueChange:a.onChange},e.createElement(c.SelectTrigger,{className:""},e.createElement(c.SelectValue,{placeholder:"method"},a.value?.toUpperCase())),e.createElement(c.SelectContent,null,S.ListHeaderCommon.map(n=>e.createElement(c.SelectItem,{value:n,key:n},e.createElement("div",{className:"flex gap-x-4 px-2 py-1"},n.toUpperCase())))))),e.createElement(t.FormMessage,null))}),e.createElement(t.FormField,{control:m,name:"url",render:({field:a})=>e.createElement(t.FormItem,{className:"flex-1 w-full"},e.createElement(t.FormControl,null,e.createElement(v.Input,{placeholder:"Enter URL",...a})),e.createElement(t.FormMessage,{className:"!mt-0"}))})),e.createElement(s.Tabs,{defaultValue:"params",className:"flex flex-col space-y-1"},e.createElement(s.TabsList,{className:""},e.createElement(s.TabsTrigger,{value:"params",className:"flex-1"},"Params"),e.createElement(s.TabsTrigger,{value:"headers",className:"flex-1"},"Headers"),e.createElement(s.TabsTrigger,{value:"body",className:"flex-1"},"Body")),e.createElement(s.TabsContent,{value:"params",className:"space-y-4"},e.createElement(x.Params,{control:m,register:d})),e.createElement(s.TabsContent,{value:"headers",className:"space-y-4"},e.createElement(C.Headers,{control:m,register:d})),e.createElement(s.TabsContent,{value:"body",className:"space-y-4"},e.createElement(t.FormField,{control:m,name:"body",render:({field:a})=>e.createElement(t.FormItem,{className:"flex-1 w-full"},e.createElement(t.FormControl,null,e.createElement(N.Body,{value:a.value,theme:l.theme,onChange:n=>a.onChange(n)})),e.createElement(t.FormMessage,{className:"!mt-0"}))}))),e.createElement(z.Button,{disabled:y},"Send"))),e.createElement(q.ResponseData,{data:g,theme:l.theme}))};exports.MakeApi=k;
//# sourceMappingURL=index.cjs2.js.map
